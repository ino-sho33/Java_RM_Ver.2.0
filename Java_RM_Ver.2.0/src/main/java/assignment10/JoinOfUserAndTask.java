package assignment10;

public class JoinOfUserAndTask {
    
    //------------------------------------------------------------------------
    // ユーザーテーブルの作成とタスクテーブルとの結合
    //------------------------------------------------------------------------
    /*
     * 目的:
     * - usersテーブルとtasksテーブルを結合し、特定ユーザーのタスクを取得する。
     * - 複数テーブルを活用するデータ構造の基礎を学ぶ。
     */
    
    
    // ------------------------------------------
    // ✅ usersテーブルの作成（ユーザー情報を格納）
    // ------------------------------------------
    /*
     * usersテーブルを作成するSQL。
     * - ユーザーごとに一意のID（id）を持つ。
     * - ユーザー名（username）とパスワード（password）を保存する。
     */
    
    // CREATE TABLE users (
    //     id INT AUTO_INCREMENT PRIMARY KEY,  -- ユーザーID（自動増加の主キー）
    //     username VARCHAR(50) NOT NULL,      -- ユーザー名（最大50文字、NULL不可）
    //     password VARCHAR(100) NOT NULL      -- パスワード（最大100文字、NULL不可）
    // );
    
    
    // --------------------------------------------------------------------
    // ✅ tasksテーブルに user_id カラムを追加（ユーザーとタスクを関連付け）
    // --------------------------------------------------------------------
    /*
     * tasksテーブルに user_id カラムを追加。
     * - これにより、各タスクがどのユーザーに紐づいているかを管理できる。
     */
    
    // ALTER TABLE tasks ADD COLUMN user_id INT;
    
    
    // --------------------------------------------------------------------
    // ✅ tasksテーブルの user_id に外部キー制約を設定（users.id を参照）
    // --------------------------------------------------------------------
    /*
     * tasksテーブルの user_id に外部キー制約を追加。
     * - これにより、tasks.user_id は必ず users.id のいずれかの値になる。
     * - データの整合性を確保するために設定。
     */
    
    // ALTER TABLE tasks 
    //     ADD CONSTRAINT fk_user  -- 外部キーの名前を設定
    //     FOREIGN KEY (user_id)  -- tasksテーブルの user_id を外部キーとして設定
    //     REFERENCES users(id);  -- usersテーブルの id を参照
}
